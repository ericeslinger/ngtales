<div class="playerCard">
  <div class="nameRow">
    <div class="name">
      {{ character.name }}
    </div>
  </div>
  <div class="characterBody">
    <div class="attributes" *ngIf="character.type !== 'nonplayer'">
      <div *ngFor="let attribute of character.attributes | keyvalue"
          class="attribute">
        <div class="attributeName">
          {{attribute.value.name}}:
        </div>
        <div class="wound" *ngIf="attribute.value.wound; else unwounded">
          <mat-icon>sentiment_very_dissatisfied</mat-icon>
        </div>
        <ng-template #unwounded>
          <adjust-character min="0" [max]="attribute.value.pool"
              [increment]="-1" [character]="character"
              [path]="'attributes.'+attribute.key+'.current'">
          </adjust-character>
          <div class="currentPool"
              [ngClass]="attribute.value.current < 2 ? 'dangerPool' : 'okayPool'">
            {{ attribute.value.current }}
          </div>
          <div class="maxPool">
            / {{attribute.value.pool}}
          </div>
          <adjust-character min="0" [max]="attribute.value.pool" [increment]="1"
              [character]="character"
              [path]="'attributes.'+attribute.key+'.current'">
          </adjust-character>
        </ng-template>
      </div>
      <div class="attribute" *ngIf="character.initiative >= 0">
        <div class="attributeName">Initiative:</div>
        <adjust-character min="0" [max]="1000" [increment]="0"
            [character]="character" [path]="'initiative'">
        </adjust-character>
        <div class="currentPool">{{character.initiative}}</div>
        <adjust-character min="0" [max]="1000" [increment]="1"
            [character]="character" [path]="'initiative'">
        </adjust-character>
      </div>
    </div>
    <div
        *ngIf="expanded && character.type !== 'nonplayer' && character.skills?.length > 0">
      <div>Skills</div>
      <div class="skills">
        <div *ngFor="let skill of character.skills" class="skill">
          <div class="skillInfo">
            <div>{{skill.name}}:&nbsp;</div>
            <div style="text-transform: capitalize;">{{skill.level}}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>